(()=>{"use strict";var t={d:(e,o)=>{for(var n in o)t.o(o,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:o[n]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},e={};function o(t){return new Promise((e=>{setTimeout(e,t)}))}t.r(e),t.d(e,{startGame_Click:()=>E});var n=function(t,e,o,n){return new(o||(o=Promise))((function(i,r){function f(t){try{c(n.next(t))}catch(t){r(t)}}function s(t){try{c(n.throw(t))}catch(t){r(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof o?e:new o((function(t){t(e)}))).then(f,s)}c((n=n.apply(t,e||[])).next())}))};window.onload=function(){document.getElementById("gameLoading").style.display="none",i=!0};let i=!1,r=!1;function f(t,e){return!(t.right<e.left||t.left>e.right||t.bottom<e.top||t.top>e.bottom)}function s(t){const e=p[0][t[1]],o=p[1][t[1]];return null==e||null==o||!f(e,o)||(p[0][t[1]]=null,p[1][t[1]]=null,!1)}const c=2,d=document.getElementById("player"),l=document.querySelector("#player .red");let a="null",u=[[0,0,0,0],[0,0,0,0]],y=[[-1,-1,-1,-1],[-1,-1,-1,-1]];const p=[[new DOMRect,new DOMRect,new DOMRect,new DOMRect],[new DOMRect,new DOMRect,new DOMRect,new DOMRect]];function w(t,e,i,r,c){return n(this,arguments,void 0,(function*(t,e,n,i,r,c=0,l=0){for(p[r[0]][r[1]]=t.getBoundingClientRect();!(t.offsetTop>window.innerHeight&&(0==c||1==c)||t.offsetTop<-t.height&&(0==c||2==c)||t.offsetLeft>window.innerWidth&&(0==l||1==l)||t.offsetLeft<-t.width&&(0==l||2==l));){if(i==u[r[0]][r[1]]){if(!s(r))break;p[r[0]][r[1]]=t.getBoundingClientRect(),1==r[0]&&d&&f(t.getBoundingClientRect(),d.getBoundingClientRect())&&(document.getElementById("gameOver").style.visibility="visible")}t.style.top=`${t.offsetTop+e}px`,t.style.left=`${t.offsetLeft+n}px`,yield o(10)}u[r[0]][r[1]]++}))}function h(t,e,o,i,r,f){return n(this,void 0,void 0,(function*(){const n=document.createElement("img");n.style.top=t+"px",n.style.left=e+"px",n.src="https://s21.ax1x.com/2024/12/28/pAxP0P0.png",n.className="mjyy-projectile",document.body.appendChild(n),yield w(n,o,i,r,f),n.remove()}))}const m=2,g=800;function v(t,e,o,i,r,f,s,c){return n(this,void 0,void 0,(function*(){const n=document.createElement("img");n.style.top=t+"px",n.style.left=e+"px",n.src="https://s21.ax1x.com/2025/10/30/pVzCjtH.png",n.className="fire-charge",document.body.appendChild(n),yield w(n,o,i,s,c,r,f),n.remove()}))}document.addEventListener("DOMContentLoaded",(function(){}));let b=!1,L="null";function A(t){function e(){if(d){const t=getComputedStyle(d).transform;d.style.transform="none"===t?"unset":t}}d&&(b?(d.style.animationPlayState="paused",e()):d.addEventListener("animationend",(function(){e(),b=!1}),{once:!0}),L==t&&(d.style.animation="unset",d.offsetWidth),b=!0,d.style.animation=t,L=t)}let O=!0,R=0;function M(t,e=!0){R+=t,R<0&&(R=0),e&&D()}function D(){l&&(l.style.opacity=(R/x).toString())}const x=80,k=1,C=10,S=1e3,T=10;function E(){!r&&i&&(r=!0,document.getElementById("gameStart").style.display="none",window.addEventListener("keydown",(t=>{switch(t.key){case"ArrowUp":case"ArrowDown":case"ArrowLeft":case"ArrowRight":t.preventDefault(),function(t){if(d&&O){switch(t){case"ArrowUp":{function e(){return n(this,arguments,void 0,(function*(t=0){t>0&&(yield o(t)),d&&(yield h(d.offsetTop-d.offsetHeight+24+12,d.offsetLeft-d.offsetWidth+24,-c,0,++y[0][0],[0,0]))}))}"ArrowUp"==a?(A("player-top-shoot .25s forwards"),e()):(A("player-top .5s forwards"),a="ArrowUp",e(250))}break;case"ArrowDown":{function i(){return n(this,arguments,void 0,(function*(t=0){t>0&&(yield o(t)),d&&h(d.offsetTop+24-12,d.offsetLeft+24-12,c,0,++y[0][1],[0,1])}))}"ArrowDown"==a?(A("player-bottom-shoot .25s forwards"),i()):(A("player-bottom .5s forwards"),a="ArrowDown",i(250))}break;case"ArrowLeft":{function r(){return n(this,arguments,void 0,(function*(t=0){t>0&&(yield o(t)),d&&h(d.offsetTop+24-12,d.offsetLeft-d.offsetWidth+24,0,-c,++y[0][2],[0,2])}))}"ArrowLeft"==a?(A("player-left-shoot .25s forwards"),r()):(A("player-left .5s forwards"),a="ArrowLeft",r(250))}break;case"ArrowRight":{function f(){return n(this,arguments,void 0,(function*(t=0){t>0&&(yield o(t)),d&&h(d.offsetTop-d.offsetHeight+24,d.offsetLeft+24-12,0,c,++y[0][3],[0,3])}))}"ArrowRight"==a?(A("player-right-shoot .25s forwards"),f()):(A("player-right .5s forwards"),a="ArrowRight",f(250))}break;default:return}R++<=0&&(console.log("shootCooling Run"),function(){n(this,void 0,void 0,(function*(){let t=R,e=0;for(;R>0;){if(R>=x&&O&&(O=!1),e>=S||!O){console.log("cooling now");const n=10;let i=0,r=0;do{O||r>=S?O?(M(-k),l.offsetWidth):(M(-k,!1),i==Math.round(n/3)&&(D(),l.offsetWidth)):(r+=C,i==Math.round(n/3)&&l&&(l.style.opacity="1",l.offsetWidth)),t=R,O||i++>=n&&(l&&(l.style.opacity=(Number(l.style.opacity)/2).toString(),l.offsetWidth),i=0),yield o(C)}while(t==R&&!(R<=0));e=0}t==R?e+=T:(e=0,t=R),yield o(T)}O||(O=!0)}))}()),D()}}(t.key)}})),function(){n(this,void 0,void 0,(function*(){for(;!d;)yield o(100);for(;;){switch(Math.floor(4*Math.random())){case 0:v(-24,d.offsetLeft-d.offsetWidth+24,m,0,1,0,++y[1][0],[1,0]);break;case 1:v(window.innerHeight,d.offsetLeft+24-12,-m,0,2,0,++y[1][1],[1,1]);break;case 2:v(d.offsetTop+24-12,-24,0,m,0,1,++y[1][2],[1,2]);break;case 3:v(d.offsetTop-d.offsetHeight+24,window.innerWidth,0,-m,0,2,++y[1][3],[1,3])}yield o(g)}}))}())}document.addEventListener("DOMContentLoaded",(function(){document.getElementById("gameStart").focus()})),function(t){const e=window;for(const o in t)t.hasOwnProperty(o)&&(e[o]=t[o])}(e)})();
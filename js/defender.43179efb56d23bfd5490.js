(()=>{"use strict";var t={d:(e,o)=>{for(var n in o)t.o(o,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:o[n]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},e={};function o(t){return new Promise((e=>{setTimeout(e,t)}))}t.r(e),t.d(e,{startGame_Click:()=>W,touchBottom_click:()=>j,touchLeft_click:()=>H,touchRight_click:()=>I,touchTop_click:()=>_});var n=function(t,e,o,n){return new(o||(o=Promise))((function(i,r){function f(t){try{c(n.next(t))}catch(t){r(t)}}function s(t){try{c(n.throw(t))}catch(t){r(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof o?e:new o((function(t){t(e)}))).then(f,s)}c((n=n.apply(t,e||[])).next())}))};function i(t){switch(t.key){case"ArrowUp":case"ArrowDown":case"ArrowLeft":case"ArrowRight":t.preventDefault(),p(t.key)}}window.onload=function(){document.getElementById("gameLoading").style.display="none",r=!0};let r=!1,f=!1,s=!1;function c(t,e){return!(t.right<e.left||t.left>e.right||t.bottom<e.top||t.top>e.bottom)}function l(t){const e=m[0][t[1]],o=m[1][t[1]];return null==e||null==o||!c(e,o)||(m[0][t[1]]=null,m[1][t[1]]=null,!1)}const d=2,a=document.getElementById("player"),u=document.querySelector("#player .red");let y="null";function p(t){if(a&&D){switch(t){case"ArrowUp":{function e(){return n(this,arguments,void 0,(function*(t=0){t>0&&(yield o(t)),a&&(yield v(a.offsetTop-a.offsetHeight+24+12,a.offsetLeft-a.offsetWidth+24,-d,0,++h[0][0],[0,0]))}))}"ArrowUp"==y?(k("player-top-shoot .25s forwards"),e()):(k("player-top .5s forwards"),y="ArrowUp",e(250))}break;case"ArrowDown":{function i(){return n(this,arguments,void 0,(function*(t=0){t>0&&(yield o(t)),a&&v(a.offsetTop+24-12,a.offsetLeft+24-12,d,0,++h[0][1],[0,1])}))}"ArrowDown"==y?(k("player-bottom-shoot .25s forwards"),i()):(k("player-bottom .5s forwards"),y="ArrowDown",i(250))}break;case"ArrowLeft":{function r(){return n(this,arguments,void 0,(function*(t=0){t>0&&(yield o(t)),a&&v(a.offsetTop+24-12,a.offsetLeft-a.offsetWidth+24,0,-d,++h[0][2],[0,2])}))}"ArrowLeft"==y?(k("player-left-shoot .25s forwards"),r()):(k("player-left .5s forwards"),y="ArrowLeft",r(250))}break;case"ArrowRight":{function f(){return n(this,arguments,void 0,(function*(t=0){t>0&&(yield o(t)),a&&v(a.offsetTop-a.offsetHeight+24,a.offsetLeft+24-12,0,d,++h[0][3],[0,3])}))}"ArrowRight"==y?(k("player-right-shoot .25s forwards"),f()):(k("player-right .5s forwards"),y="ArrowRight",f(250))}break;default:return}M++<=0&&(console.log("shootCooling Run"),function(){n(this,void 0,void 0,(function*(){let t=M,e=0;for(;M>0;){if(M>=T&&D&&(D=!1),e>=P||!D){console.log("cooling now");const n=10;let i=0,r=0;do{D||r>=P?D?(x(-C),u.offsetWidth):(x(-C,!1),i==Math.round(n/3)&&(S(),u.offsetWidth)):(r+=E,i==Math.round(n/3)&&u&&(u.style.opacity="1",u.offsetWidth)),t=M,D||i++>=n&&(u&&(u.style.opacity=(Number(u.style.opacity)/2).toString(),u.offsetWidth),i=0),yield o(E)}while(t==M&&!(M<=0));e=0}t==M?e+=B:(e=0,t=M),yield o(B)}D||(D=!0)}))}()),S()}}let w=[[0,0,0,0],[0,0,0,0]],h=[[-1,-1,-1,-1],[-1,-1,-1,-1]];const m=[[new DOMRect,new DOMRect,new DOMRect,new DOMRect],[new DOMRect,new DOMRect,new DOMRect,new DOMRect]];function g(t,e,r,f,d){return n(this,arguments,void 0,(function*(t,e,n,r,f,d=0,u=0){for(m[f[0]][f[1]]=t.getBoundingClientRect();!(t.offsetTop>window.innerHeight&&(0==d||1==d)||t.offsetTop<-t.height&&(0==d||2==d)||t.offsetLeft>window.innerWidth&&(0==u||1==u)||t.offsetLeft<-t.width&&(0==u||2==u)||s);){if(r==w[f[0]][f[1]]){if(!l(f))break;m[f[0]][f[1]]=t.getBoundingClientRect(),1==f[0]&&a&&c(t.getBoundingClientRect(),a.getBoundingClientRect())&&(s=!0,window.removeEventListener("keydown",i),document.getElementById("gameOver").style.visibility="visible",a.style.animation="player-dead 100ms infinite",document.querySelector("#gameOver .game-over .button").focus())}t.style.top=`${t.offsetTop+e}px`,t.style.left=`${t.offsetLeft+n}px`,yield o(10)}w[f[0]][f[1]]++}))}function v(t,e,o,i,r,f){return n(this,void 0,void 0,(function*(){const n=document.createElement("img");n.style.top=t+"px",n.style.left=e+"px",n.src="https://s21.ax1x.com/2024/12/28/pAxP0P0.png",n.className="mjyy-projectile",document.body.appendChild(n),yield g(n,o,i,r,f),s||n.remove()}))}const b=2,L=800;function A(t,e,o,i,r,f,c,l){return n(this,void 0,void 0,(function*(){const n=document.createElement("img");n.style.top=t+"px",n.style.left=e+"px",n.src="https://s21.ax1x.com/2025/10/30/pVzCjtH.png",n.className="fire-charge",document.body.appendChild(n),yield g(n,o,i,c,l,r,f),s||n.remove()}))}document.addEventListener("DOMContentLoaded",(function(){}));let R=!1,O="null";function k(t){function e(){if(a){const t=getComputedStyle(a).transform;a.style.transform="none"===t?"unset":t,a.style.setProperty("--player_last-transform",t)}}a&&(R?(a.style.animationPlayState="paused",e()):a.addEventListener("animationend",(function(){e(),R=!1}),{once:!0}),O==t&&(a.style.animation="unset",a.offsetWidth),R=!0,a.style.animation=t,O=t)}let D=!0,M=0;function x(t,e=!0){M+=t,M<0&&(M=0),e&&S()}function S(){u&&(u.style.opacity=(M/T).toString())}const T=50,C=1,E=10,P=1e3,B=10;function W(){!f&&r&&(f=!0,document.getElementById("gameStart").style.display="none",window.addEventListener("keydown",i),function(){n(this,void 0,void 0,(function*(){for(;!a;)yield o(100);for(;!s;){switch(Math.floor(4*Math.random())){case 0:A(-24,a.offsetLeft-a.offsetWidth+24,b,0,1,0,++h[1][0],[1,0]);break;case 1:A(window.innerHeight,a.offsetLeft+24-12,-b,0,2,0,++h[1][1],[1,1]);break;case 2:A(a.offsetTop+24-12,-24,0,b,0,1,++h[1][2],[1,2]);break;case 3:A(a.offsetTop-a.offsetHeight+24,window.innerWidth,0,-b,0,2,++h[1][3],[1,3])}yield o(L)}}))}())}function _(){s||p("ArrowUp")}function j(){s||p("ArrowDown")}function H(){s||p("ArrowLeft")}function I(){s||p("ArrowRight")}document.addEventListener("DOMContentLoaded",(function(){document.getElementById("gameStart").focus()})),function(t){const e=window;for(const o in t)t.hasOwnProperty(o)&&(e[o]=t[o])}(e)})();